<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link href="main.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Hello, world!</title>
  </head>
  <body>

    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">JSShop</span>
        <span class="badge bg-dark">Dark</span>
        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>

    <div class="black-bg">
      <div class="white-bg">
        <h4>로그인하세요</h4>
            <form action="success.html">
                <div class="my-3">
                <input type="text" class="form-control" id="email">
                </div>
                <div class="my-3">
                <input type="password" class="form-control" id="password">
                </div>
                <button type="submit" class="btn btn-primary">전송</button>
                <button type="button" class="btn btn-danger" id="close">닫기</button>
            </form> 
      </div>
    </div>

    <ul class="list-group">
      <li class="list-group-item">An item</li>
      <li class="list-group-item">A second item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A fourth item</li>
      <li class="list-group-item">And a fifth one</li>
    </ul>

    <div class="main-bg">
      <h4>Shirts on Sale</h4>
      <button id="login" class="btn btn-danger">로그인</button>
    </div>

    <div style="height: 1000px"></div>

    <div class="alert alert-danger">
      5초 이내 구매시 사은품 증정!
    </div>

    <div style="overflow: hidden">
      <div class="slide-container">
        <div class="slide-box">
          <img src="car1.png">
        </div>
        <div class="slide-box">
          <img src="car2.png">
        </div>
        <div class="slide-box">
          <img src="car3.png">
        </div>
      </div>
    </div>

    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="next">다음</button>
    <button class="pre">이전</button>


    <button id="test-btn">버튼</button>
    <button id="login-btn">로그인</button>

    <div class="lorem" style="width: 200px; height: 100px; overflow-y:scroll">
      "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
       Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 
       Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. 
       Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
    </div>

    <script>
      // 검은 배경 누르면 모달창 닫는 기능 만들기
      $('.black-bg').on('click', function(e) {
        $('.black-bg').removeClass('show-modal');

        e.target; // 유저가 실제로 누른 속성 출력
        e.currentTarget; // 이벤트리스너 달린 곳
        e.preventDefault(); // 이벤트 기본동작 막아줌
        e.stopPropagation(); // 내 상위요소로 이벤트 버블링 막아줌
        
      })


      // 현재페이지 끝까지 스크롤 체크는?
      document.querySelector('html').scrollHeight
      document.querySelector('html').clientHeight
      
      //현재 페이지 스크롤양
      window.scrollY

      // 스크롤바 움직일때 마다 실행해야함
      $(window).on('scroll', function() {
        // 페이지 스크롤바 100이상 내리면
        if (window.scrollY > 100) {
        $('.navbar-brand').css('font-size', '20px');
        // 로고 폰트사이즈 줄이기
        } else {
          $('.navbar-brand').css('font-size', '25px');
        }
      })
      
      // div의 스크롤바 내린 양 + 눈에 보이는 div 높이 == div의 실제 높이
      $('.lorem').on('scroll', function() {
        var 스크롤양 = document.querySelector('.lorem').scrollTop;
        var 실제높이 = document.querySelector('.lorem').scrollHeight;
        var 높이 = document.querySelector('.lorem').clientHeight;
        
        if (스크롤양 + 높이 > 실제높이 - 10) {
          alert('다읽음')
        }


        // console.log(스크롤양, 실제높이);
      })


      window.addEventListener('scroll', function() {
        
      });

      var 지금사진 = 0; 
      
      $('.pre').on('click', function() {
        $('.slide-container').css('transform', 'translateX(-'+ 지금사진 + '00vw');
        console.log(지금사진);
        지금사진 -= 1;
      })

      $('.next').on('click', function() {
        $('.slide-container').css('transform', 'translateX(-'+ 지금사진 + '00vw)');
        console.log(지금사진);
        지금사진 += 1;
      });

      // $('.next').on('click', function() {
      //   if (지금사진 == 1) {
      //     $('.slide-container').css('transform', 'translateX(-100vw)')
      //     지금사진 += 1;
      //   } else if (지금사진 == 2) {
      //     $('.slide-container').css('transform', 'translateX(-200vw)')
      //     지금사진 += 1;
      //   } else if (지금사진 == 3) {
      //     $('.slide-container').css('transform', 'translateX(-300vw)')
      //   }
      // });
      
      $('.slide-1').on('click', function() {
        $('.slide-container').css('transform', 'translateX(0vw)')
      })

      $('.slide-2').on('click', function() {
        $('.slide-container').css('transform', 'translateX(-100vw)')
      })

      $('.slide-3').on('click', function(){
        $('.slide-container').css('transform', 'translateX(-200vw)')
      })
      

      $('form').on('submit', function(){
        var 입력한값 = document.getElementById('email').value;

        if (입력한값 == '') {
          alert('아이디입력안함')
        }
        if (/\S+@\S+.\S+/.test(입력한값)) {
          alert('이메일형식아님')
        }

      });

      $('form').on('submit', function(e){
        var 비번 = document.getElementById('password').value;
        if (/[A-Z]/.test(비번) == false) {
          alert('대문자없는데요')
        }
      });



      setTimeout(function(){
         $('.alert').hide();
        }, 5000)
      
      setInterval(countnum(), 1000)

      function countnum() {
        var count = 5;
        count--;
      }

      // badge 클릭 횟수를 기록해보자 
      var count = 0;
      
      $('.badge').on('click', function() {
        count += 1;
        if (count % 2 == 0) {
          $('.badge').html('Dark');
        } else {
          $('.badge').html('Light');
        }
        // badge 클릭횟수가 홀수면 내부 글자를 Light로 변경
        // badge 클릭횟수가 짝수면 내부 글자를 Dark로 변경

      })

      document.getElementById('email').addEventListener('input', function() {
        console.log('안녕');
      })

      $('form').on('submit', function(e){
        if (document.getElementById('email').value == '' && document.getElementById('password').value == '') {
          alert('아이디와 비번을 입력해주세요')
          e.preventDefault();
        } else if (document.getElementById('email').value == '') {
          alert('아이디입력안함')
          e.preventDefault();
        } else if(document.getElementById('password').value == '') {
          alert('비번입력안함')
          e.preventDefault();
        } else if (document.getElementById('password').value.length < 6) {
          alert('비번을 7자리 이상 입력해주세요')
          e.preventDefault();
        }
      });

      $('#login-btn').on('click', function() {
        $('.black-bg').addClass('show-modal')
      })

      $('#close').on('click', function(){
        $('.black-bg').removeClass('show-modal')
        $('.black-bg').addClass('close-modal')
      })
      
      $('.navbar-toggler').on('click', function() {
        document.querySelectorAll('.list-group')[0].classList.toggle('show');
      })
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

  </body>
</html>